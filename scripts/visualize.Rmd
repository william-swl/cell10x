---
title: 'Cell10x Output'
date: "`r Sys.Date()`"
output:
  html_document:
---


```{r include=FALSE}
knitr::opts_chunk$set(prompt=TRUE, comment='', collapse=TRUE, message=FALSE, warning=FALSE)
baizer::pkglib(baizer, tidyverse, ggsci, ggbeeswarm, plutor, ComplexHeatmap, plotly, ggplotify, echarts4r, jsonlite, knitr)

sample <- snakemake@wildcards[['sample']]

# replace default configs with sample configs
config <- replace_item(snakemake@config, snakemake@config[[sample]])

# all results
Lres <- readRDS(snakemake@input[['visualize_rds']])

# css
css_dir <- snakemake@params[['css_dir']]
css_content <- str_c(css_dir, dir(css_dir), sep='/') %>% 
    map(xfun::read_utf8) %>%
    reduce(~c(.x, .y))
```

```{css, code=css_content, echo=FALSE}
```

```{asis}
# metadata
```

```{r, echo=FALSE}
Lres[['metadata']]
```

```{asis}
# cells
```

```{r, echo=FALSE}
Lres[['cells']]
```


```{asis}
# filter
```

```{r, echo=FALSE}
Lres[[1]][['filter']]
```

```{asis}
# mRNA
```

```{r, echo=FALSE}
Lres[[1]][['mRNA']]
```

```{asis}
# hashtag
```

```{r, echo=FALSE}
Lres[[1]][['HT']]
```

```{asis}
# binding feature barcode
```

```{r, echo=FALSE}
Lres[[1]][['BD']]
```

```{asis}
# Bcell VDJ
```

```{r, echo=FALSE}
Lres[[1]][['VDJB']][['table']]
Lres[[1]][['VDJB']][['plot']]
```