##############################
######## Key Variables
##############################
indir: /home/william/pipeline/cell10x/test/rawdata
outdir: /home/william/pipeline/cell10x/test/out
srcdir: &srcdir /home/william/pipeline/cell10x/src
Lsample:
  - test
species: &species human



##############################
######## Sample Variables
##############################
test:
  mRNA: True
  VDJB: True
  VDJT: True
  Nmin_cell_to_keep_gene: 10
  Nmin_gene_to_keep_cell: 10
  celltype_ref_tissue: common


##############################
######## Default Variables
##############################
# mRNA parse
Nmin_cell_to_keep_gene: 100
Nmin_gene_to_keep_cell: 100
celltype_ref_tissue: immune
Ndim_umap_use: 30

##############################
######## Resources
##############################
Dresources:
    qc_cpus: 2
    mRNA_count_cpus: 2
    VDJB_count_cpus: 2
    VDJT_count_cpus: 2
    mRNA_parse_cpus: 2
    VDJB_igblast_cpus: 2
    VDJB_changeo_cpus: 2


##############################
######## Constant
##############################
# software
cellranger: !!python/object/apply:os.path.join [*srcdir, "cellranger-7.1.0/bin/cellranger"]

# gene expression reference
gex_ref_dir: &gex_ref_dir !!python/object/apply:pyutils.list_join [*species, "-gex-ref"]
gex_ref: !!python/object/apply:os.path.join [*srcdir, *gex_ref_dir]

# VDJ reference
vdj_ref_dir: &vdj_ref_dir !!python/object/apply:pyutils.list_join [*species, "-vdj-ref"]
vdj_ref: !!python/object/apply:os.path.join [*srcdir, *vdj_ref_dir]

# celltype reference
celltype_ref_file: &celltype_ref_file !!python/object/apply:pyutils.list_join [*species, ".rds"]
celltype_ref: !!python/object/apply:os.path.join [*srcdir, 'celltype-ref', *celltype_ref_file]

# igblast reference
igblast_VDJB_ref_prefix_part1: &igblast_VDJB_ref_prefix_part1 !!python/object/apply:pyutils.list_join [*species, "-VDJB"]
igblast_VDJB_ref_prefix_part2: &igblast_VDJB_ref_prefix_part2 !!python/object/apply:pyutils.list_join [*species, "_gl_"]
igblast_VDJB_ref_prefix: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJB_ref_prefix_part1, *igblast_VDJB_ref_prefix_part2]
igblast_VDJT_ref_prefix_part1: &igblast_VDJT_ref_prefix_part1 !!python/object/apply:pyutils.list_join [*species, "-VDJT"]
igblast_VDJT_ref_prefix_part2: &igblast_VDJT_ref_prefix_part2 !!python/object/apply:pyutils.list_join [*species, "_gl_"]
igblast_VDJT_ref_prefix: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJT_ref_prefix_part1, *igblast_VDJT_ref_prefix_part2]

# changeo reference
changeo_VB_ref: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJB_ref_prefix_part1, 'IGV.fasta']
changeo_DB_ref: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJB_ref_prefix_part1, 'IGD.fasta']
changeo_JB_ref: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJB_ref_prefix_part1, 'IGJ.fasta']
changeo_VT_ref: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJT_ref_prefix_part1, 'TRV.fasta']
changeo_DT_ref: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJT_ref_prefix_part1, 'TRD.fasta']
changeo_JT_ref: !!python/object/apply:os.path.join [*srcdir, 'igblast-ref', *igblast_VDJT_ref_prefix_part1, 'TRJ.fasta']
